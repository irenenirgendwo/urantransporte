<% if current_user?(@user) %>
  <h1>Einstellungen</h1>
<% else %>
  <h1>Benutzereinstellungen für <%= @user.name %></h1>
<% end %>
  
<%= form_for(@user) do |f| %>
  <%= render 'shared/error_messages' %>

  <div class="form-group">
    <%= f.label :name, "Name" %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>
  
  <div class="form-group">
    <%= f.label :email, "E-Mail" %>
    <%= f.text_field :email, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :password, "Passwort" %>
    <%= f.password_field :password, class: 'form-control' %>
  </div>
  
  <div class="form-group">
    <%= f.label :password_confirmation, "Passwort-Wiederholung" %>
    <%= f.password_field :password_confirmation, class: 'form-control' %>
  </div>
  
  <% if is_admin? %>
    <div class="form-group">
      <%= f.label :role, "Rolle" %>
      <%= f.select :role, User.roles.keys.map {|role| [role.titleize,role]}, {}, class: 'form-control' %>
    </div>
  <% end %>
  
  <%= f.submit "Änderungen speichern", class: "btn btn-primary" %>
<% end %>

<h3>Benutzerkonto löschen</h3>
<%= link_to 'Löschen', @user, method: :delete, data: { confirm: 'Willst du das Benutzerkonto wirklich löschen?' }, class: "btn btn-danger" %></td>